{% extends 'boecie/base.html' %}
{% load i18n %}
{#Object is a Study group#}
{% block content %}
    <div class="spacing"></div>
    <div class="container">
        <h2>{{ study.name }}</h2>
        <hr>
        <a href="{% url 'boecie:course.create' study.pk %}" class="btn-link">
            <button class="btn btn-success btn-block"
                    type="submit">
                {% trans "Add new course" %}</button>
        </a>
        <br>
        {% include 'boecie/studycourse_form.html' %}
        <hr>
        <h3>{% trans "Courses to be updated:" %}</h3><br>
        <div class="row">
            <div class="table-responsive">
                <table class="table table-striped">
                    {% if courses_not_updated %}
                        <thead>
                            <tr>
                                <th>{% trans 'Course' %}</th>
                                <th>{% trans 'Coordinator' %}</th>
                                <th>{% trans 'Teacher(s)' %}</th>
                                <th>{% trans 'Study Year' %}</th>
                                <th>{% trans 'Year' %}</th>
                                <th>{% trans 'Period' %}</th>
                            </tr>
                        </thead>
                    {% endif %}
                    <tbody>
                        {% for course in courses_not_updated %}
                            <tr>
                                <td>
                                    <a href="{% url 'boecie:course.detail' study.pk course.pk %}">{{ course.name }}</a>
                                </td>
                                <td>
                                    <a href="{% url 'boecie:teacher.detail' course.coordinator.pk %}">{{ course.coordinator }}</a>
                                </td>
                                <td>
                                    {% for teacher in course.teachers.all %}
                                        <a href="{% url 'boecie:teacher.detail' teacher.pk %}">{{ teacher }}</a>
                                    {% endfor %}
                                </td>
                                <td>
                                    {{ course.study_year }}
                                </td>
                                <td>
                                    {{ course.calendar_year }}
                                </td>
                                <td>
                                    {{ course.period }}
                                </td>
                            </tr>
                        {% empty %}
                            <tr>
                                <td colspan="6">
                                    {% trans 'All courses have been updated, good work!' %}
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="spacing"></div>
        <hr>
        <div class="spacing"></div>

        <h3>{% trans "Courses that are already updated"%}</h3>
        <hr>
        <div class="row">
            <div class="table-responsive">
                <table class="table table-striped">
                    {% if courses_updated %}
                        <thead>
                            <tr>
                                <th>{% trans 'Course' %}</th>
                                <th>{% trans 'Coordinator' %}</th>
                                <th>{% trans 'Teacher(s)' %}</th>
                                <th>{% trans 'Study Year' %}</th>
                                <th>{% trans 'Year' %}</th>
                                <th>{% trans 'Period' %}</th>
                            </tr>
                        </thead>
                    {% endif %}
                    <tbody>
                        {% for course in courses_updated %}
                            <tr>
                                <td>
                                    <a href="{% url 'boecie:course.detail' study.pk course.pk %}">{{ course.name }}</a>
                                </td>
                                <td>
                                    <a href="{% url 'boecie:teacher.detail' course.coordinator.pk %}">{{ course.coordinator }}</a>
                                </td>
                                <td>
                                    {% for teacher in course.teachers.all %}
                                        <a href="{% url 'boecie:teacher.detail' teacher.pk %}">{{ teacher }}</a>
                                    {% endfor %}
                                </td>
                                <td>
                                    {{ course.study_year }}
                                </td>
                                <td>
                                    {{ course.calendar_year }}
                                </td>
                                <td>
                                    {{ course.period }}
                                </td>
                            </tr>
                        {% empty %}
                            <tr>
                                <td colspan="6">
                                    {% trans 'No courses have been updated yet.' %}
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        <div class="spacing"></div>
    </div>
{% endblock %}
